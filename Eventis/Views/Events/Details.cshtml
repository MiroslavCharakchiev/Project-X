@model Eventis.Models.Eventis.Event

<div class="row mt-30">
    <div class="col-md-12">
        <h1 class="text-primary text-center">@Model.Title</h1>
    </div>
</div>
<div class="row mt-30">
    <div class="col-md-12">
        <h1 class="text-primary text-center">
            Status:
            <span>
                @if (Model.Status.ToString() == "Finished")
                {
                    <span class="text-danger"> @(Model.Status)</span> <span>|</span> <span> Date: @Model.StartDate.ToString("dd MMMM , yyyy")</span>
                }
                @if (Model.Status.ToString() == "Open")
                {
                    <span class="text-success"> @(Model.Status)</span> <span>|</span> <span> Date: @Model.StartDate.ToString("dd MMMM , yyyy")</span>
                }
                @if (Model.Status.ToString() == "Upcoming")
                {
                    <span class="text-success"> @(Model.Status)</span> <span>|</span> <span> Date: @Model.StartDate.ToString("dd MMMM , yyyy")</span>
                }
            </span>
        </h1>
    </div>
</div>
<hr />
<div class="row mt-30 text-center">
    <a class="btn btn-primary btn-lg text-center col-md-12" onclick="myFunction()">Collapse the image</a>
    <img id="slide" src="@Model.ImagePath" class="img-responsive col-md-12" alt="">
    <script>
        function myFunction() {
            $("#slide").animate({ width: 'toggle' }, 350);
        }
    </script>
</div>
<hr />
<div class="row mt-30">
    <div class="col-md-4"></div>
    <div class="col-md-4">
        <p class="lead">Description : <span class=" text-info lead">@Model.Content</span></p>
    </div>
    <div class="col-md-4"></div>
</div>
<div class="row">
    <div class="col-md-4"></div>
    <div class="col-md-4">
        <p class="lead">Event category : <a class="btn btn-info" href="/Home/Genres/@Model.Genre_Id">@Model.Genre.Name</a></p>
    </div>
    <div class="col-md-4"></div>
</div>
<div class="row">
    <div class="col-md-4"></div>
    <div class="col-md-4">
        <p class="text-left lead">
            @Model.ViewCount people were here to check this event so far
        </p>
    </div>
    <div class="col-md-4"></div>
</div>
<div class="row">
    <div class="col-md-4"></div>
    <div class="col-md-4">
        <p class="text-left lead">
            Contact :<span><a class="text-info" href="mailto:@Model.Author.UserName">@Model.Author.UserName</a></span> for more information about the event.
        </p>
    </div>
    <div class="col-md-4"></div>
</div>

@*Comment section below*@

<div>
    @using Eventis.Models.Eventis.ViewModels
    @Html.Partial("_CommentPartial", new CommentViewModel() { EventId = Model.Id })
</div>
<div class="row mt-30 text-center">
    <a class="btn btn-primary btn-lg text-center col-md-12" onclick="myFunction2()">Collapse the Comments</a>
    <script>
        function myFunction2() {
            $("#collapseComment").animate({ width: 'toggle' }, 350);
        }
    </script>
    <div id="collapseComment">
        <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-4">
                @foreach (var c in Model.Comments.OrderByDescending(x => x.Id))
                {
                    <div class="jumbotron container mt-30" style="background-color:#e0f7ff">
                        <div class="col-md-12 text-left">
                            <p class="lead">Author : <span class="text-info lead">@c.Author.UserName</span></p>
                            <p class="lead" style="width:200px ; overflow-wrap:break-word">Comment : <span class="text-info lead">@c.Content</span></p>
                        </div>
                    </div>
                }
            </div>
            <div class="col-md-4"></div>
        </div>
    </div>
</div>
