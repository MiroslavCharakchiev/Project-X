@model ICollection<Eventis.Models.Eventis.Event>

<div class="row">
    <h2 class="text-center">Page -  @ViewBag.CurrentPage</h2>
</div>
<div class="row">
    @foreach (var i in Model)
    {
        <div class="corners col-md-6">
            <h1 class="text-center">@i.Title</h1>

            <p class="text-center">
                <a class="btn btn-default disabled text-center" href="/Home/Index">@i.Status</a>
            </p>

            <img src="@i.ImagePath" class="img-responsive" />

            <div class="row mt-30">
                <p class="col-md-6 lead">
                    View count:
                </p>
                <p class="col-md-6 text-right lead">
                    @i.ViewCount
                </p>
            </div>
            <div class="row">
                <p class="col-md-6 lead">
                    Start Date:
                </p>
                <p class="col-md-6 text-right lead">
                    @i.StartDate
                </p>
            </div>
            <div class="row">
                <p class="col-md-6 lead">
                    Category:
                </p>
                <p class="col-md-6 text-right lead">
                    @i.Category.Name
                </p>
            </div>

            <p class="text-right mt-30">
                <a class="btn btn-info" href="/Events/Details/@i.Id">Take a look!</a>
            </p>
        </div>
    }
</div>
@{ 
    var currentUserQuery = Request.QueryString["user"];
}
<div class="row">
    <p class="text-center mt-30 ">
        <a href="/Home/ListAll?page=@(ViewBag.CurrentPage - 1)@(currentUserQuery != null ? "&user=" +currentUserQuery : string.Empty)" class="btn btn-primary @(ViewBag.CurrentPage == 1 ? "disabled" : string.Empty)">Previous page</a>
        <a href="/Home/ListAll?page=@(ViewBag.CurrentPage + 1)@(currentUserQuery != null ? "&user=" +currentUserQuery : string.Empty)" class="btn btn-primary @(!Model.Any() || Model.Count < 6 ? "disabled" : string.Empty)">Next page</a>
    </p>
</div>
